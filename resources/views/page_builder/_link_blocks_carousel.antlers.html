{{#
    @name Link Blocks Carousel
    @desc The Link Blocks Carousel page builder block.
    @set page.page_builder.link_block_carousel
#}}

<!-- /page_builder/_link_blocks_carousel.antlers.html -->
<section x-data="{swiper: null}"
x-init="swiper = new Swiper($refs.container, {
  slidesPerView: 1,
  spaceBetween: 10,
  edgeSwipeDetection: 'prevent',
  updateOnWindowResize: true,
  a11y: true,
  freeMode: true,
  mousewheel: {
    enabled: true,
    forceToAxis: true,
  },
  pagination: {
    el: '.swiper-pagination',
    clickable: true
  },
  breakpoints: {
    640: {
        slidesPerView: 3,
        grid: {
          fill: 'rows',
          rows: 2,
        },
        spaceBetween: 24
    }
  }
})" class="overflow-hidden">
    <div class="fluid-container">
        {{ if block:title }}
        <div class="grid md:grid-cols-12 gap-8 md:col-span-12">
            {{ partial:typography/h2 :content="block:title" class="md:col-span-5" }}
            <div class="md:col-start-7 md:col-span-6">
                {{ partial:typography/p :content="block:text"}}
                {{ partial:components/buttons :buttons="block:buttons" class="mt-6" }}
            </div>
        </div>
        {{/if}}

        <div class="mt-10 md:mt-20 pb-14">   
            <div class="hidden md:block">
                <div class="swiper !pb-14" x-ref="container">
                    <div class="swiper-wrapper">
                        {{ block:link_blocks }}
                            <div class="swiper-slide">
                                <div class="relative border border-charcoal-40 px-10 py-8 flex flex-col justify-between items-start no-underline focus:outline-none focus-visible:ring-2 ring-offset-2 ring-primary"
                                >
                                    {{ partial:typography/large class="font-medium mb-4" :content="title" }}
                                    {{ if link }}
                                        {{ partial:components/button button_type="inline" as="span" label="View More" faux="true" }}
                                        <a href="{{ link }}" class="absolute inset-0"></a>
                                    {{ /if }}
                                </div>
                            </div>
                        {{ /block:link_blocks }}
                    </div>
        
                    <!-- If we need pagination -->
                    <div class="swiper-pagination !text-left absolute !bottom-0"></div>
                </div>
            </div>
            <div class="md:hidden space-y-6">
                {{ block:link_blocks }}
                <div class="relative border border-charcoal-40 px-10 py-8 flex flex-col justify-between items-start no-underline focus:outline-none focus-visible:ring-2 ring-offset-2 ring-primary">
                    {{ partial:typography/large class="font-medium mb-4" :content="title" }}
                    {{ if link }}
                        {{ partial:components/button button_type="inline" as="span" label="View More" faux="true" }}
                        <a href="{{ link }}" class="absolute inset-0"></a>
                    {{ /if }}
                </div>
                {{ /block:link_blocks }}
            </div>
        </div>
    </div>
</section>
<!-- End: /page_builder/_link_blocks_carousel.antlers.html -->
