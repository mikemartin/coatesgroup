{{#
    @name Page Header
    @desc The page header component.
#}}

<!-- /components/_header.antlers.html -->
<section class="fluid-container grid md:grid-cols-12 gap-8 {{ if page_builder }}pt-8 md:pt-16{{ else }}py-8 md:py-16{{/if}}">
    <div class="relative md:col-span-10 {{ if center_headline }}md:flex md:flex-col md:items-center md:text-center md:col-start-2{{/if}}">
        {{ !hide_breadcrumb && !show_title ?= { partial:navigation/breadcrumbs } }}
        {{ show_title ?= {partial:typography/p :content="title" color="text-charcoal-40"} }}

        {{ partial:typography/h1 :content="headline ?? title" class="mt-4 md:max-w-[18ch]" }}
        {{ supporting_text ?= {partial:typography/p :content="supporting_text" class="mt-2 md:mt-6 max-w-[86ch]"} }}
    </div>
    {{ if show_topics }}
        <div class="md:col-span-12 flex flex-wrap gap-4">
            {{ partial:components/button_tag :selected="current_uri == '/insights/blog'" url="/insights/blog" label="All" /}}
            
            {{ taxonomy:topics collection="blog" }}
                {{ partial:components/button_tag url="/insights/blog/topics/{{ slug }}" :selected="page:slug == slug" :label="title" /}}
            {{ /taxonomy:topics }}
        </div>
    {{ /if }}
    {{ if show_resources }}
        <div class="md:col-span-12 flex flex-wrap gap-4">
            {{ partial:components/button_tag :selected="current_uri == '/insights/thought-leadership'" url="/insights/thought-leadership" label="All" /}}
            
            {{ taxonomy:resources }}
                {{ partial:components/button_tag url="/insights/thought-leadership/resources/{{ slug }}" :selected="page:slug == slug" :label="title" /}}
            {{ /taxonomy:resources }}
        </div>
    {{ /if }}
    {{ if show_filters }}
        {{ industries = {taxonomy:industries sort="entries_count:desc" } }}
        {{ locations = {taxonomy:locations sort="entries_count:desc" } }}
        {{ products = {collection:products} }}
        {{ experiences = {collection:experiences} }}
        <div x-data="{ mobileFilterOpen: false }" class="md:col-span-12">
            {{ partial:components/mobile_filters }} 
            <div class="flex flex-wrap gap-4">
                {{ partial:components/button_tag :selected="current_uri == '/case-studies'" url="/case-studies" label="All work" class="w-full sm:flex-1 md:flex-initial md:justify-center md:w-36" /}}
                {{ partial:components/button_tag as="button" label="Filter" class="w-full sm:flex-1 md:flex-auto md:w-auto md:hidden" icon="filter" }}
                    {{ slot:attributes }}
                        @click="mobileFilterOpen = true"
                    {{ /slot:attributes  }}
                {{ /partial:components/button_tag }}
                
                {{ partial:components/filter label="Industry" :options="industries" class="hidden md:block flex-1" }}
                {{ partial:components/filter label="Location" :options="locations" class="hidden md:block flex-1" }}
                {{ partial:components/filter label="Products" :options="products" class="hidden md:block flex-1" }}
                {{ partial:components/filter label="Experience" :options="experiences" class="hidden md:block flex-1" }}
            </div>
        </div>
    {{ /if }}
</section>
<!-- End: /components/_header.antlers.html -->
